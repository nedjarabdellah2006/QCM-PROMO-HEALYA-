<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ø®ØªØ¨Ø§Ø± QCM</title>

<style>
body {
  font-family: Arial;
  direction: rtl;
  background: #f0f0f0;
  padding: 30px;
}

.box {
  background: white;
  padding: 20px;
  border-radius: 10px;
  max-width: 650px;
  margin: auto;
}

.option {
  border: 1px solid #ccc;
  padding: 12px;
  margin: 8px 0;
  border-radius: 5px;
  cursor: pointer;
}

.correct { background: #c8f7c5; border-color: green; }
.wrong { background: #f7c5c5; border-color: red; }
.chosen { border: 2px solid #333; }

button {
  margin-top: 10px;
  padding: 10px;
  width: 100%;
  cursor: pointer;
}

#result { display: none; }

/* Ø¨Ø·Ø§Ø±ÙŠØ© */
.battery-phone {
  width: 200px;
  height: 80px;
  border: 4px solid #333;
  border-radius: 10px;
  position: relative;
  margin: 20px auto;
}

.battery-head {
  width: 10px;
  height: 30px;
  background: #333;
  position: absolute;
  right: -14px;
  top: 25px;
}

.battery-level {
  height: 100%;
  width: 0%;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: bold;
}
</style>
</head>

<body>

<div class="box" id="quiz">
  <h2 id="question"></h2>
  <div id="options"></div>
  <p id="explanation"></p>
  <button onclick="next()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
</div>

<div class="box" id="result">
  <h2>ğŸ“Š Ù†ØªÙŠØ¬ØªÙƒ</h2>
  <p id="finalScore"></p>

  <div class="battery-phone">
    <div class="battery-level" id="battery">
      <span id="batteryText">0%</span>
    </div>
    <div class="battery-head"></div>
  </div>

  <button onclick="startReview()">ğŸ“˜ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
  <button onclick="restart()">ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
</div>

<script>
const questions = [
  {
    q: "Ù…Ø§ Ø£ÙØ¶Ù„ Ø·Ø±ÙŠÙ‚Ø© Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©ØŸ",
    options: ["Ø­ÙØ¸ Ø§Ù„ÙƒØªØ¨", "Ø§Ù„ØªØ¹Ù„Ù… Ù…Ø¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚", "Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±", "Ø§Ù„Ø­Ø¸"],
    correct: 1,
    exp: "Ø§Ù„ØªØ¹Ù„Ù… Ù…Ø¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù‡Ùˆ Ø§Ù„Ø£ÙØ¶Ù„."
  },
  {
    q: "Ù…Ø§ ÙˆØ¸ÙŠÙØ© HTMLØŸ",
    options: ["Ø£Ù„ÙˆØ§Ù†", "ØªØ®Ø²ÙŠÙ†", "Ø¨Ù†Ø§Ø¡ Ø§Ù„ØµÙØ­Ø©", "Ø­Ù…Ø§ÙŠØ©"],
    correct: 2,
    exp: "HTML ØªØ¨Ù†ÙŠ Ø§Ù„ØµÙØ­Ø©."
  },
  {
    q: "JavaScript ØªÙØ³ØªØ®Ø¯Ù… Ù…Ù† Ø£Ø¬Ù„ØŸ",
    options: ["ØµÙˆØ±", "ØªÙØ§Ø¹Ù„", "Ø®Ø·ÙˆØ·", "ØªØ±Ø¬Ù…Ø©"],
    correct: 1,
    exp: "JavaScript ØªØ¶ÙŠÙ Ø§Ù„ØªÙØ§Ø¹Ù„."
  },
  {
    q: "Ø£ÙØ¶Ù„ Ø¨Ø¯Ø§ÙŠØ© Ù„Ù…Ø´Ø±ÙˆØ¹ØŸ",
    options: ["ÙÙƒØ±Ø© Ø¨Ø³ÙŠØ·Ø©", "Ù…Ø´Ø±ÙˆØ¹ Ø¶Ø®Ù…", "ØªÙ‚Ù„ÙŠØ¯", "Ø§Ù†ØªØ¸Ø§Ø±"],
    correct: 0,
    exp: "Ø§Ø¨Ø¯Ø£ ØµØºÙŠØ±Ù‹Ø§."
  },
  {
    q: "Ù…Ø§ Ø³Ø± Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ØŸ",
    options: ["Ø§Ù„Ù…Ø§Ù„", "Ø§Ù„ØµØ¨Ø±", "Ø§Ù„Ø­Ø¸", "Ø§Ù„Ø°ÙƒØ§Ø¡"],
    correct: 1,
    exp: "Ø§Ù„ØµØ¨Ø± Ø£Ø³Ø§Ø³ Ø§Ù„Ù†Ø¬Ø§Ø­."
  }
];

let i = 0;
let score = 0;
let answers = [];
let reviewMode = false;

function load() {
  explanation.innerText = "";
  const q = questions[i];
  question.innerText = q.q;
  options.innerHTML = "";

  q.options.forEach((text, idx) => {
    const div = document.createElement("div");
    div.className = "option";
    div.innerText = text;

    if (reviewMode) {
      if (idx === q.correct) div.classList.add("correct");
      if (answers[i] === idx) div.classList.add("chosen");
      if (answers[i] === idx && idx !== q.correct) div.classList.add("wrong");
    } else {
      div.onclick = () => answer(div, idx);
    }

    options.appendChild(div);
  });

  if (reviewMode) explanation.innerText = q.exp;
}

function answer(el, idx) {
  answers[i] = idx;
  const q = questions[i];
  document.querySelectorAll(".option").forEach(o => o.onclick = null);

  if (idx === q.correct) score++;

  el.classList.add(idx === q.correct ? "correct" : "wrong");
  document.querySelectorAll(".option")[q.correct].classList.add("correct");

  explanation.innerText = q.exp;
}

function next() {
  if (i < questions.length - 1) {
    i++;
    load();
  } else {
    showResult();
  }
}

function showResult() {
  quiz.style.display = "none";
  result.style.display = "block";

  const percent = Math.round(score / questions.length * 100);
  finalScore.innerText = `Ù†ØªÙŠØ¬ØªÙƒ ${percent}%`;
  battery.style.width = percent + "%";
  batteryText.innerText = percent + "%";

  battery.style.background =
    percent < 40 ? "red" :
    percent < 70 ? "orange" : "green";
}

function startReview() {
  reviewMode = true;
  i = 0;
  result.style.display = "none";
  quiz.style.display = "block";
  load();
}

function restart() {
  i = 0;
  score = 0;
  answers = [];
  reviewMode = false;
  result.style.display = "none";
  quiz.style.display = "block";
  load();
}

load();
</script>

</body>
</html>
